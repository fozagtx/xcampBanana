# Feature Guide: Marketplace & Enhanced Minting

## Quick Start Guide

### Creating a Brandkit with Custom Parameters

1. **Navigate to Dashboard**
   - Connect your wallet using the CampModal
   - Click on "üé® Create Brandkit" tab

2. **Fill in Brandkit Details**
   ```
   Name: My Cyberpunk Brandkit
   Price: 0.005 CAMP (minimum 0.001)
   Duration: 7 days (minimum 1)
   Royalty: 15% (0-100%)
   Parent Token ID: (optional - leave empty for original work)
   ```

3. **Create Content**
   - **Option A**: Upload a PDF file
   - **Option B**: Create JSON content:
     ```json
     {
       "style": "cyberpunk",
       "colors": ["#ff00ff", "#00ffff", "#ffff00"],
       "fonts": ["Orbitron", "Rajdhani"],
       "elements": ["neon", "glitch", "grid"]
     }
     ```

4. **Preview & Export**
   - JSON validates automatically
   - Click "üìÑ Download PDF" to export formatted preview
   - Preview includes all licensing details

5. **Mint Your Brandkit**
   - Click "Mint Brandkit (JSON)" or "Mint Brandkit (PDF)"
   - Confirm wallet transaction
   - Receive Token ID on success

### Downloading JSON as PDF

**The PDF includes:**
- Brandkit title and description
- Pricing information (Price, Duration, Royalty)
- Formatted JSON content
- Visual preview (if shown)
- Page numbers and branding

**Steps:**
1. Enter valid JSON content
2. Wait for validation (green checkmark)
3. Click "üìÑ Download PDF" button
4. PDF downloads automatically

**PDF Structure:**
```
Page 1:
  - Title: "Brandkit: [Your Name]"
  - Subtitle: "Nanabanapro Brandkit - JSON Prompt"
  - Licensing Terms Box:
    * Price: X CAMP
    * Duration: Y days
    * Royalty: Z%
  - JSON Content (formatted)

Page 2+ (if needed):
  - Continued JSON content
  - Visual preview (if available)

Footer:
  - "Generated by xcampBanana - Page X of Y"
```

### Using the Marketplace

1. **Browse Available Brandkits**
   - Navigate to Dashboard
   - Click "üõí Marketplace" tab
   - View all available brandkits in grid

2. **View Brandkit Details**
   - Each card shows:
     * Token ID
     * Name and description
     * Price per period
     * Duration per period
     * Royalty percentage

3. **Purchase Access**
   - Click "Buy Access" on any brandkit
   - Modal opens with details
   - Select number of periods (e.g., 3 periods = 3 days if duration is 1 day)
   - Total cost calculated automatically
   - Click "Confirm Purchase"
   - Approve wallet transaction

4. **Download Content**
   - Click üì• download button on brandkit card
   - Content downloads as JSON file
   - Name: `brandkit-[tokenId].json`

## Parameter Explanations

### Price
- **What it is**: Cost per access period in CAMP tokens
- **Minimum**: 0.001 CAMP
- **Example**: 0.005 CAMP = 5,000,000,000,000,000 wei
- **User pays**: Price √ó Number of periods

### Duration
- **What it is**: How long each access period lasts
- **Unit**: Days
- **Minimum**: 1 day
- **Example**: 7 days = 604,800 seconds
- **User gets**: Duration √ó Number of periods

### Royalty
- **What it is**: Percentage you receive on secondary sales
- **Unit**: Percentage (%)
- **Range**: 0-100%
- **Example**: 15% = 1,500 basis points
- **Standard**: 10% is common for NFTs

### Parent Token ID
- **What it is**: ID of the original work (if this is a derivative)
- **When to use**: Creating remixes, variations, or derivative works
- **Example**: If remixing Token #42, enter "42"
- **Leave empty**: For original works

## Common Workflows

### Workflow 1: Create Original Brandkit
```
1. Enter name: "Retro Wave Theme"
2. Set price: 0.002 CAMP
3. Set duration: 3 days
4. Set royalty: 10%
5. Leave parent ID empty
6. Create JSON content with theme details
7. Download PDF preview
8. Mint brandkit
9. Share Token ID with potential buyers
```

### Workflow 2: Create Derivative Brandkit
```
1. Enter name: "Retro Wave - Dark Mode Variant"
2. Set price: 0.003 CAMP
3. Set duration: 3 days
4. Set royalty: 12%
5. Enter parent ID: 42 (original Retro Wave)
6. Create modified JSON content
7. Download PDF preview
8. Mint derivative brandkit
9. Original creator receives royalty automatically
```

### Workflow 3: Purchase and Use Brandkit
```
1. Browse marketplace
2. Find "Retro Wave Theme"
3. Click "Buy Access"
4. Select 5 periods (= 15 days total)
5. Total: 0.002 √ó 5 = 0.01 CAMP
6. Confirm purchase
7. Download content as JSON
8. Use in your projects for 15 days
```

## Validation Rules

### Name
- ‚úÖ Required field
- ‚úÖ Any text allowed
- ‚ùå Cannot be empty

### Price
- ‚úÖ Must be number
- ‚úÖ Minimum: 0.001 CAMP
- ‚ùå Cannot be negative
- ‚ùå Cannot be zero

### Duration
- ‚úÖ Must be whole number
- ‚úÖ Minimum: 1 day
- ‚ùå Cannot be fractional (e.g., 1.5 days)
- ‚ùå Cannot be zero or negative

### Royalty
- ‚úÖ Must be number
- ‚úÖ Range: 0-100%
- ‚ùå Cannot exceed 100%
- ‚ùå Cannot be negative

### JSON Content
- ‚úÖ Must be valid JSON format
- ‚úÖ Real-time validation
- ‚ùå Shows warning if invalid
- ‚ùå Cannot mint with invalid JSON

## Error Messages

### Minting Errors
```
"Price must be at least 0.001 CAMP"
‚Üí Solution: Increase price to minimum

"Duration must be at least 1 day"
‚Üí Solution: Set duration to 1 or more

"Royalty must be between 0% and 100%"
‚Üí Solution: Adjust royalty to valid range

"‚ö†Ô∏è Invalid JSON format"
‚Üí Solution: Fix JSON syntax errors

"Origin SDK not initialized"
‚Üí Solution: Reconnect wallet
```

### Marketplace Errors
```
"Failed to purchase access"
‚Üí Solution: Check wallet balance, try again

"Failed to download content"
‚Üí Solution: Ensure you own access, try again
```

## Tips & Best Practices

### For Creators
1. **Pricing Strategy**
   - Start with 0.001-0.01 CAMP for testing
   - Consider your target audience
   - Lower prices = more purchases

2. **Duration Strategy**
   - 1-7 days: Quick projects
   - 30 days: Monthly subscriptions
   - 365 days: Yearly licenses

3. **Royalty Strategy**
   - 5-10%: Standard range
   - 10-15%: Premium content
   - 0%: No secondary sales royalty

4. **Content Quality**
   - Use descriptive names
   - Write clear descriptions
   - Provide comprehensive JSON data
   - Export PDF for preview sharing

### For Buyers
1. **Evaluate Before Buying**
   - Check price per period
   - Calculate total cost
   - Review duration needs

2. **Period Selection**
   - Buy multiple periods for discounts
   - Plan project timeline
   - Consider renewal options

3. **Content Management**
   - Download immediately after purchase
   - Store JSON safely
   - Track expiration dates

## Integration Examples

### Minting with All Parameters
```typescript
// User inputs
name: "Cyberpunk 2077 Theme"
price: "0.005"          // 5 milliCAMP
duration: "7"           // 7 days
royalty: "15"           // 15%
parentId: "42"          // Derivative of Token 42

// Converted internally
priceInWei: 5000000000000000n
durationInSeconds: 604800
royaltyInBps: 1500
parentIds: [42n]

// JSON content
{
  "theme": "cyberpunk",
  "neonColors": true,
  "glitchEffect": true
}

// Result
Token ID: 123
Success message with all parameters displayed
```

### Purchasing Multiple Periods
```typescript
// Item details
price: "0.002 CAMP"
duration: "3 days"

// User selects
periods: 5

// Calculation
totalPrice: 0.002 √ó 5 = 0.01 CAMP
totalDuration: 3 √ó 5 = 15 days

// Transaction
User pays: 0.01 CAMP
User receives: 15 days of access
```

## Technical Notes

### Wei Conversion
```
1 CAMP = 1,000,000,000,000,000,000 wei
0.001 CAMP = 1,000,000,000,000,000 wei (minimum)
```

### Seconds Conversion
```
1 day = 86,400 seconds
1 week = 604,800 seconds
1 month (30 days) = 2,592,000 seconds
1 year = 31,536,000 seconds
```

### Basis Points Conversion
```
1% = 100 basis points
10% = 1,000 basis points
100% = 10,000 basis points
```

## Support & Resources

### Documentation
- Origin SDK Docs: See README.md
- Implementation Details: See IMPLEMENTATION_SUMMARY.md

### Common Questions

**Q: Can I change parameters after minting?**
A: Yes, use `auth.origin.updateTerms(tokenId, newLicense)` method

**Q: How do I track my minted brandkits?**
A: Use `auth.origin.balanceOf(ownerAddress)` and query token IDs

**Q: What happens when access expires?**
A: User needs to purchase again to regain access

**Q: Can I mint the same content twice?**
A: Yes, each mint creates a unique Token ID

**Q: How do royalties work?**
A: Automatically distributed on secondary sales via smart contract

---

For issues or questions, please check the console logs or contact support.
